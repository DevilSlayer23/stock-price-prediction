{% extends "main/base.html" %}
{% load static %}
{% block body %}
<div class="container d-flex justify-content-center"><span class="display-4">Technical Chart</span></div>
<div class="container d-flex justify-content-center align-items-center" style="margin:50px">
<iframe src = 'https://nepsealpha.com/trading/chart' style="width: 1200px; height: 500px;"></iframe>
</div>


<div class="container d-flex justify-content-center"><span class="display-4">List of Scripts</span></div>
<div class="container">

  <table class="table" id = "liveTable">
  <thead>
    <tr class="table-dark">
      <th scope="col">S.No.</th>
      <th scope="col">Symbol</th>
      <th scope="col">LTP</th>
      <th scope="col">Open</th>
      <th scope="col">High</th>
      <th scope="col">Low</th>
    </tr>
  </thead>
  <tbody>
  {% for d in  liveData%}
    <tr>
      <th scope="row">{{forloop.counter}}</th>
      <td>{{d.symbol}}</td>
      <td>{{d.ltp}}</td>
      <td>{{d.open}}</td>
      <td>{{d.high}}</td>
      <td>{{d.low}}</td>
    </tr>
   {% endfor %}
  </tbody>
</table>
</div>
</div>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.4/css/jquery.dataTables.css">
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.4/js/jquery.dataTables.js"></script>


<script>
$("#liveTable").DataTable();
var liveData = {{liveData | safe}};
console.log(liveData);

  

</script>
{% endblock body%}